<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<!-- Generated by javadoc on Sun Mar 15 23:45:20 PST 1998 -->
<title>
  Interface com.chimu.kernel.collections.Collection
</title>
</head>

<BODY TEXT="#000000" BACKGROUND="../images/chimuBack.jpg" BGCOLOR="#F0F0F0" LINK="#0000EE" VLINK="#551A8B" ALINK="#FF0000">

<a name="_top_"></a>

<TABLE width="100%" border=0><TR><TD width="70%"><FONT size="-1"><a href="http://www.chimu.com/">ChiMu</a>&nbsp;&nbsp;<a href="../../index.html">Documentation</a>&nbsp;&nbsp;<a href="../index.html">API</a> <img src="../images/level.gif" width=5 height=9> <a href="packages.html">Kernel</a> <img src="../images/level.gif" width=5 height=9> <a href="Package-com.chimu.kernel.collections.html">collections</a></FONT></TD><TD align=right><a href="tree.html">Tree</a>&nbsp;<a href="AllNames.html">Index</a></TD></TR></TABLE>
<h1>
  Interface com.chimu.kernel.collections.Collection
</h1>
<dl>
  <dt> public interface <b>Collection</b>
</dl>
Collection is the base abstraction of a "collection of objects".  It is read-only,
and unordered.  Subtypes allow ordering, indexing, keying, and other capabilities
on a collection.
<p>
<hr>
<a name="index"></a>
<h2>
Method Index  
</h2>
<dl>
  <dt>    
	<a href="#any()"><b>any</b></a>()
  <dd> 
  <dt>    
	<a href="#canInclude(java.lang.Object)"><b>canInclude</b></a>(Object)
  <dd>  Report whether the collection COULD contain element,
 i.e., that it is valid with respect to the Collection's
 element screener if it has one.
  <dt>    
	<a href="#canSatisfy(com.chimu.kernel.functors.Predicate1Arg)"><b>canSatisfy</b></a>(Predicate1Arg)
  <dd> 
  <dt>    
	<a href="#copy()"><b>copy</b></a>()
  <dd> public version of java.lang.Object.clone
All Collections implement clone.
  <dt>    
	<a href="#copyAdding(java.lang.Object)"><b>copyAdding</b></a>(Object)
  <dd>  Construct a new Collection that is a clone of self except
 that it includes indicated element.
  <dt>    
	<a href="#copyAddingIfAbsent(java.lang.Object)"><b>copyAddingIfAbsent</b></a>(Object)
  <dd>  Construct a new Collection that is a clone of self except
 that it adds the indicated element if not already present.
  <dt>    
	<a href="#copyCollect(com.chimu.kernel.functors.Function1Arg)"><b>copyCollect</b></a>(Function1Arg)
  <dd> 
  <dt>    
	<a href="#copyEmpty()"><b>copyEmpty</b></a>()
  <dd> 
  <dt>    
	<a href="#copyExcluding(java.lang.Object)"><b>copyExcluding</b></a>(Object)
  <dd>  Construct a new Collection that is a clone of self except
 that it does not include any occurrences of the indicated element.
  <dt>    
	<a href="#copyReject(com.chimu.kernel.functors.Predicate1Arg)"><b>copyReject</b></a>(Predicate1Arg)
  <dd> 
  <dt>    
	<a href="#copyRemovingOneOf(java.lang.Object)"><b>copyRemovingOneOf</b></a>(Object)
  <dd>  Construct a new Collection that is a clone of self except
 that it does not include an occurrence of the indicated element.
  <dt>    
	<a href="#copyReplacingAllOf(java.lang.Object, java.lang.Object)"><b>copyReplacingAllOf</b></a>(Object, Object)
  <dd>  Construct a new Collection that is a clone of self except
 that all occurrences of oldElement are replaced with
 newElement.
  <dt>    
	<a href="#copyReplacingOneOf(java.lang.Object, java.lang.Object)"><b>copyReplacingOneOf</b></a>(Object, Object)
  <dd>  Construct a new Collection that is a clone of self except
 that one occurrence of oldElement is replaced with
 newElement.
  <dt>    
	<a href="#copySelect(com.chimu.kernel.functors.Predicate1Arg)"><b>copySelect</b></a>(Predicate1Arg)
  <dd> 
  <dt>    
	<a href="#detect(com.chimu.kernel.functors.Predicate1Arg)"><b>detect</b></a>(Predicate1Arg)
  <dd> 
  <dt>    
	<a href="#elements()"><b>elements</b></a>()
  <dd>  Return an enumeration that may be used to traverse through
 the elements in the collection.
  <dt>    
	<a href="#includes(java.lang.Object)"><b>includes</b></a>(Object)
  <dd>  Report whether the collection contains element.
  <dt>    
	<a href="#inject_into(java.lang.Object, com.chimu.kernel.functors.Function2Arg)"><b>inject_into</b></a>(Object, Function2Arg)
  <dd> 
  <dt>    
	<a href="#isEmpty()"><b>isEmpty</b></a>()
  <dd>  Report whether this collection has no elements.
  <dt>    
	<a href="#occurrencesOf(java.lang.Object)"><b>occurrencesOf</b></a>(Object)
  <dd>  Report the number of occurrences of element in collection.
  <dt>    
	<a href="#sameStructure(com.chimu.kernel.collections.Collection)"><b>sameStructure</b></a>(Collection)
  <dd>  Report whether other has the same element structure as this.
  <dt>    
	<a href="#size()"><b>size</b></a>()
  <dd>  Report the number of elements in the collection.
</dl>
<a name="methods"></a>
<h2>
Methods  
</h2>
<a name="copy()">   </a>
<a name="copy"><b>copy</b></a>
<pre>
 public abstract Object copy()
</pre>
<dl>
  <dd> public version of java.lang.Object.clone
All Collections implement clone. But this is a protected method.
Copy allows public access.
<p>
  <dd><dl>
    <dt> <b>See Also:</b>
    <dd> clone
  </dl></dd>
</dl>
<a name="size()">   </a>
<a name="size"><b>size</b></a>
<pre>
 public abstract int size()
</pre>
<dl>
  <dd> Report the number of elements in the collection.
 No other spurious effects.
<p>
  <dd><dl>
    <dt> <b>Returns:</b>
    <dd> number of elements
  </dl></dd>
</dl>
<a name="isEmpty()">   </a>
<a name="isEmpty"><b>isEmpty</b></a>
<pre>
 public abstract boolean isEmpty()
</pre>
<dl>
  <dd> Report whether this collection has no elements.
 Behaviorally equivalent to <CODE>size() == 0</CODE>.
<p>
  <dd><dl>
    <dt> <b>Returns:</b>
    <dd> true iff size() == 0
  </dl></dd>
</dl>
<a name="any()">   </a>
<a name="any"><b>any</b></a>
<pre>
 public abstract Object any()
</pre>
<a name="canInclude(java.lang.Object)">   </a>
<a name="canInclude"><b>canInclude</b></a>
<pre>
 public abstract boolean canInclude(Object element)
</pre>
<dl>
  <dd> Report whether the collection COULD contain element,
 i.e., that it is valid with respect to the Collection's
 element screener if it has one.
 Always returns false if element == null.
 A constant function: if canInclude(v) is ever true it is always true.
 (This property is not in any way enforced however.)
 No other spurious effects.
<p>
  <dd><dl>
    <dt> <b>Returns:</b>
    <dd> true if non-null and passes element screener check
  </dl></dd>
</dl>
<a name="occurrencesOf(java.lang.Object)">   </a>
<a name="occurrencesOf"><b>occurrencesOf</b></a>
<pre>
 public abstract int occurrencesOf(Object element)
</pre>
<dl>
  <dd> Report the number of occurrences of element in collection.
 Always returns 0 if element == null.
 Otherwise Object.equals is used to test for equality.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> element - the element to look for
    <dt> <b>Returns:</b>
    <dd> the number of occurrences (always nonnegative)
  </dl></dd>
</dl>
<a name="includes(java.lang.Object)">   </a>
<a name="includes"><b>includes</b></a>
<pre>
 public abstract boolean includes(Object element)
</pre>
<dl>
  <dd> Report whether the collection contains element.
 Behaviorally equivalent to <CODE>occurrencesOf(element) &gt;= 0</CODE>.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> element - the element to look for
    <dt> <b>Returns:</b>
    <dd> true iff contains at least one member that is equal to element.
  </dl></dd>
</dl>
<a name="detect(com.chimu.kernel.functors.Predicate1Arg)">   </a>
<a name="detect"><b>detect</b></a>
<pre>
 public abstract Object detect(<a href="com.chimu.kernel.functors.Predicate1Arg.html#_top_">Predicate1Arg</a> predicate)
</pre>
<a name="inject_into(java.lang.Object, com.chimu.kernel.functors.Function2Arg)">   </a>
<a name="inject_into"><b>inject_into</b></a>
<pre>
 public abstract Object inject_into(Object initialValue,
                                    <a href="com.chimu.kernel.functors.Function2Arg.html#_top_">Function2Arg</a> function)
</pre>
<a name="canSatisfy(com.chimu.kernel.functors.Predicate1Arg)">   </a>
<a name="canSatisfy"><b>canSatisfy</b></a>
<pre>
 public abstract boolean canSatisfy(<a href="com.chimu.kernel.functors.Predicate1Arg.html#_top_">Predicate1Arg</a> predicate)
</pre>
<a name="elements()">   </a>
<a name="elements"><b>elements</b></a>
<pre>
 public abstract Enumeration elements()
</pre>
<dl>
  <dd> Return an enumeration that may be used to traverse through
 the elements in the collection. Standard usage, for some
 collection c, and some operation `use(Object obj)':
 <PRE>
 for (Enumeration e = c.elements(); e.hasMoreElements(); )
   use(e.nextElement());
 </PRE>
 (The values of nextElement very often need to
 be coerced to types that you know they are.)
 <P>
 All Collections return instances
 of Enumeration, that can report the number of remaining
 elements, and also perform consistency checks so that
 for UpdatableCollections, element enumerations may become
 invalidated if the collection is modified during such a traversal
 (which could in turn cause random effects on the collection.
 TO prevent this,  Enumerations
 raise CorruptedEnumerationException on attempts to access
 nextElements of altered Collections.)
 Note: Since all collection implementations are synchronizable,
 you may be able to guarantee that element traversals will not be
 corrupted by using the java <CODE>synchronized</CODE> construct
 around code blocks that do traversals. (Use with care though,
 since such constructs can cause deadlock.)
 <P>
 Guarantees about the nature of the elements returned by  nextElement of the
 returned Enumeration may vary accross sub-interfaces.
 In all cases, the enumerations provided by elements() are guaranteed to
 step through (via nextElement) ALL elements in the collection.
 Unless guaranteed otherwise (for example in Seq), elements() enumerations
 need not have any particular nextElement() ordering so long as they
 allow traversal of all of the elements. So, for example, two successive
 calls to element() may produce enumerations with the same
 elements but different nextElement() orderings.
 Again, sub-interfaces may provide stronger guarantees. In
 particular, Seqs produce enumerations with nextElements in
 index order, ElementSortedCollections enumerations are in ascending
 sorted order, and KeySortedCollections are in ascending order of keys.
<p>
  <dd><dl>
    <dt> <b>Returns:</b>
    <dd> an enumeration e such that
 <PRE>
   e.numberOfRemainingElements() == size() &&
   foreach (v in e) includes(e)
 </PRE>
  </dl></dd>
</dl>
<a name="sameStructure(com.chimu.kernel.collections.Collection)">   </a>
<a name="sameStructure"><b>sameStructure</b></a>
<pre>
 public abstract boolean sameStructure(<a href="#_top_">Collection</a> other)
</pre>
<dl>
  <dd> Report whether other has the same element structure as this.
 That is, whether other is of the same size, and has the same
 elements() properties.
 This is a useful version of equality testing. But is not named
 `equals' in part because it may not be the version you need.
 <P>
 The easiest way to decribe this operation is just to
 explain how it is interpreted in standard sub-interfaces:
 <UL>
  <LI> Seq and ElementSortedCollection: other.elements() has the
        same order as this.elements().
  <LI> Bag: other.elements has the same occurrencesOf each element as this.
  <LI> Set: other.elements includes all elements of this
  <LI> Map: other includes all (key, element) pairs of this.
  <LI> KeySortedCollection: other includes all (key, element)
       pairs as this, and with keys enumerated in the same order as
       this.keys().
</UL>
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> other, - a Collection
    <dt> <b>Returns:</b>
    <dd> true if considered to have the same size and elements.
  </dl></dd>
</dl>
<a name="copyEmpty()">   </a>
<a name="copyEmpty"><b>copyEmpty</b></a>
<pre>
 public abstract <a href="#_top_">Collection</a> copyEmpty()
</pre>
<a name="copyCollect(com.chimu.kernel.functors.Function1Arg)">   </a>
<a name="copyCollect"><b>copyCollect</b></a>
<pre>
 public abstract <a href="#_top_">Collection</a> copyCollect(<a href="com.chimu.kernel.functors.Function1Arg.html#_top_">Function1Arg</a> transform)
</pre>
<a name="copySelect(com.chimu.kernel.functors.Predicate1Arg)">   </a>
<a name="copySelect"><b>copySelect</b></a>
<pre>
 public abstract <a href="#_top_">Collection</a> copySelect(<a href="com.chimu.kernel.functors.Predicate1Arg.html#_top_">Predicate1Arg</a> select)
</pre>
<a name="copyReject(com.chimu.kernel.functors.Predicate1Arg)">   </a>
<a name="copyReject"><b>copyReject</b></a>
<pre>
 public abstract <a href="#_top_">Collection</a> copyReject(<a href="com.chimu.kernel.functors.Predicate1Arg.html#_top_">Predicate1Arg</a> reject)
</pre>
<a name="copyExcluding(java.lang.Object)">   </a>
<a name="copyExcluding"><b>copyExcluding</b></a>
<pre>
 public abstract <a href="#_top_">Collection</a> copyExcluding(Object element)
</pre>
<dl>
  <dd> Construct a new Collection that is a clone of self except
 that it does not include any occurrences of the indicated element.
 It is NOT an error to exclude a non-existent element.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> element - the element to exclude from the new collection
    <dt> <b>Returns:</b>
    <dd> a new Collection, c, with the sameStructure as this
 except that !c.includes(element).
  </dl></dd>
</dl>
<a name="copyRemovingOneOf(java.lang.Object)">   </a>
<a name="copyRemovingOneOf"><b>copyRemovingOneOf</b></a>
<pre>
 public abstract <a href="#_top_">Collection</a> copyRemovingOneOf(Object element)
</pre>
<dl>
  <dd> Construct a new Collection that is a clone of self except
 that it does not include an occurrence of the indicated element.
 It is NOT an error to remove a non-existent element.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> element - the element to exclude from the new collection
    <dt> <b>Returns:</b>
    <dd> a new Collection, c, with the sameStructure as this
 except that c.occurrencesOf(element) == max(0,occurrencesOf(element)-1)
  </dl></dd>
</dl>
<a name="copyReplacingOneOf(java.lang.Object, java.lang.Object)">   </a>
<a name="copyReplacingOneOf"><b>copyReplacingOneOf</b></a>
<pre>
 public abstract <a href="#_top_">Collection</a> copyReplacingOneOf(Object oldElement,
                                               Object newElement) throws <a href="com.chimu.kernel.collections.IllegalElementException.html#_top_">IllegalElementException</a>
</pre>
<dl>
  <dd> Construct a new Collection that is a clone of self except
 that one occurrence of oldElement is replaced with
 newElement.
 It is NOT an error to replace a non-existent element.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> oldElement - the element to replace
    <dd> newElement - the replacement
    <dt> <b>Returns:</b>
    <dd> a new Collection, c, with the sameStructure as this, except:
 <PRE>
 let int delta = oldElement.equals(newElement)? 0 :
               max(1, this.occurrencesOf(oldElement) in
  c.occurrencesOf(oldElement) == this.occurrencesOf(oldElement) - delta &&
  c.occurrencesOf(newElement) ==  (this instanceof Set) ?
         max(1, this.occurrencesOf(oldElement) + delta):
                this.occurrencesOf(oldElement) + delta) &&
 </PRE>
    <dt> <b>Throws:</b> <a href="com.chimu.kernel.collections.IllegalElementException.html#_top_">IllegalElementException</a>
    <dd> if includes(oldElement) and !canInclude(newElement)
  </dl></dd>
</dl>
<a name="copyReplacingAllOf(java.lang.Object, java.lang.Object)">   </a>
<a name="copyReplacingAllOf"><b>copyReplacingAllOf</b></a>
<pre>
 public abstract <a href="#_top_">Collection</a> copyReplacingAllOf(Object oldElement,
                                               Object newElement) throws <a href="com.chimu.kernel.collections.IllegalElementException.html#_top_">IllegalElementException</a>
</pre>
<dl>
  <dd> Construct a new Collection that is a clone of self except
 that all occurrences of oldElement are replaced with
 newElement.
 It is NOT an error to convert a non-existent element.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> oldElement - the element to replace
    <dd> newElement - the replacement
    <dt> <b>Returns:</b>
    <dd> a new Collection, c, with the sameStructure as this except
 <PRE>
 let int delta = oldElement.equals(newElement)? 0 :
occurrencesOf(oldElement) in
  c.occurrencesOf(oldElement) == this.occurrencesOf(oldElement) - delta &&
  c.occurrencesOf(newElement) ==  (this instanceof Set) ?
         max(1, this.occurrencesOf(oldElement) + delta):
                this.occurrencesOf(oldElement) + delta)
 </PRE>
    <dt> <b>Throws:</b> <a href="com.chimu.kernel.collections.IllegalElementException.html#_top_">IllegalElementException</a>
    <dd> if includes(oldElement) and !canInclude(newElement)
  </dl></dd>
</dl>
<a name="copyAdding(java.lang.Object)">   </a>
<a name="copyAdding"><b>copyAdding</b></a>
<pre>
 public abstract <a href="#_top_">Collection</a> copyAdding(Object element) throws <a href="com.chimu.kernel.collections.IllegalElementException.html#_top_">IllegalElementException</a>
</pre>
<dl>
  <dd> Construct a new Collection that is a clone of self except
 that it includes indicated element. This can be used
 to create a series of Collections, each differing from the
 other only in that they contain additional elements.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> the - element to add to the new Bag
    <dt> <b>Returns:</b>
    <dd> the new Collection c, with the sameStructure as this except that
 c.occurrencesOf(element) == occurrencesOf(element)+1
    <dt> <b>Throws:</b> <a href="com.chimu.kernel.collections.IllegalElementException.html#_top_">IllegalElementException</a>
    <dd> if !canInclude(element)
  </dl></dd>
</dl>
<a name="copyAddingIfAbsent(java.lang.Object)">   </a>
<a name="copyAddingIfAbsent"><b>copyAddingIfAbsent</b></a>
<pre>
 public abstract <a href="#_top_">Collection</a> copyAddingIfAbsent(Object element) throws <a href="com.chimu.kernel.collections.IllegalElementException.html#_top_">IllegalElementException</a>
</pre>
<dl>
  <dd> Construct a new Collection that is a clone of self except
 that it adds the indicated element if not already present. This can be used
 to create a series of collections, each differing from the
 other only in that they contain additional elements.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> element - the element to include in the new collection
    <dt> <b>Returns:</b>
    <dd> a new collection c, with the sameStructure as this, except that
 c.occurrencesOf(element) = min(1, occurrencesOfElement)
    <dt> <b>Throws:</b> <a href="com.chimu.kernel.collections.IllegalElementException.html#_top_">IllegalElementException</a>
    <dd> if !canInclude(element)
  </dl></dd>
</dl>
<hr>

<TABLE width="100%" border=0><TR><TD width="70%"><FONT size="-1"><a href="http://www.chimu.com/">ChiMu</a>&nbsp;&nbsp;<a href="../index.html">Documentation</a>&nbsp;&nbsp;<a href="../index.html">API</a> <img src="../images/level.gif" width=5 height=9> <a href="packages.html">Kernel</a> <img src="../images/level.gif" width=5 height=9> <a href="Package-com.chimu.kernel.collections.html">collections</a></FONT></TD><TD align=right><a href="tree.html">Tree</a>&nbsp;<a href="AllNames.html">Index</a></TD></TR></TABLE>
<P>
<TABLE width="100%" border=0>
<TR><TD valign=top><A href="../index.html"><IMG src="../images/pyrs1b2t.gif" border=0></A></TD>
<TD width="100%" valign = bottom align=left><FONT SIZE="-1"><A href="../../copyright.html">Copyright (c) 1997</A>, ChiMu Corporation.  All Rights Reserved.
<BR>&nbsp;&nbsp;Confidential and Proprietary.  Version R1.0.5.</FONT></TD>
</TR>
</TABLE>
</body>
</html>
