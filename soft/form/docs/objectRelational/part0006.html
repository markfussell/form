<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
    <TITLE>Using Current Relational Databases</TITLE>
    <META NAME="Author" CONTENT="Mark L. Fussell">
    <LINK REL="ToC" HREF="httoc.htm">
    <LINK REL="Index" HREF="htindex.htm">
    <LINK REL="Next" HREF="part0007.html">
    <LINK REL="Prev" HREF="part0005.html">
</HEAD>

<BODY TEXT="#000000" BACKGROUND="../../images/backgrounds/marb18.jpg" BGCOLOR="#F0F0F0" LINK="#0000EE" VLINK="#551A8B" ALINK="#FF0000">
<TABLE width="100%">
<TR><TD valign=top><FONT size="-1"><a href="http://www.chimu.com/">ChiMu</a>&nbsp;&nbsp;<a href="../index.html">Documentation</a>&nbsp;&nbsp;<A href="index.html">Object-Relational Mapping</FONT></A></TD><TD valign=top align=right><A href="part0005.html"><IMG BORDER=0 src="../../images/arrows/larr1ct.gif"></A>&nbsp;<A href="part0005.html">Previous</A>&nbsp;<A href="index.html#TOC">TOC</A>&nbsp;<A href="part0007.html">Next</A>&nbsp;<A href="part0007.html"><IMG BORDER=0 src="../../images/arrows/rarr1ct.gif"></A> </TD></TR>
</TABLE>
<A NAME="E9E6"></A>
<H1>
<FONT COLOR="#000080"><B>Using Current Relational Databases</B></FONT></H1>

<P>
<CENTER><TABLE ><TR>
<TD VALIGN=top ><A HREF="part0006.html#E10E13">IdentityKeys: Relinquishing Objects</A></TD>
<TD VALIGN=top ><A HREF="part0006.html#E10E14">Distinguishers: Identifying an</A></TD>
<TD VALIGN=top ><A HREF="part0006.html#E10E15">Summary</A>
</TD></TR></TABLE>
</CENTER>
<P>The previous section assumed we could modify the relational model to add features we need for object-relational mapping.  In the long run this may be possible but currently it is not.  Current relational systems do not support objects with identity as the values of tuple attributes.  Most relational systems do not support anything more than basic data types as tuple attributes.  Have we returned to the impedance mismatch?  No, we already have an approach that is a good integration of Relational and Object models.  We only need to implement it with current technology.
<A NAME="E10E13"></A>
<H2>
<FONT COLOR="#000080"><B><I>IdentityKeys: Relinquishing Objects for ObjectShadows</I></B></FONT></H2>
<P>We can not directly store objects with identity in current relational databases.  Instead we will just store an IdentityKey as an <B>ObjectShadow</B>: the existence of an IdentityKey indicates that an Object exists but that the database can not directly represent the actual object.  We only have the shadow of the object, which is less convenient to work with but contains as much information.
<P>
<IMG SRC="image0002.gif" WIDTH = 519 HEIGHT = 156 ALT="Undisplayed Graphic">
<A NAME="E10E14"></A>
<H2>
<FONT COLOR="#000080"><B><I>Distinguishers: Identifying an Object&#146;s Type</I></B></FONT></H2>
<P>In the above example the type of the ObjectShadow is obvious.  It is always a person for the ID column and it is always a company for the Company_ID column.  What if we allow the type of a domain to vary over multiple classes?  How do we identify what type of object that shadow is for?  We need some manner to first identify the object&#146;s class and then use the object&#146;s IdentityKey to identify the object within that class.  We need a more knowledgeable shadow.
<P>We can add this knowledge through a distinguisher that identifies which class of object the shadow is for.  We first find the class through the distinguisher and then find the object of that class through the identityKey.  
<P>
<IMG SRC="image0003.gif" WIDTH = 510 HEIGHT = 197 ALT="Undisplayed Graphic">
<A NAME="E10E15"></A>
<H2>
<FONT COLOR="#000080"><B><I>Summary</I></B></FONT></H2>
<P>Working with current relational technology makes implementing objects in the database much more cumbersome, but the model is still valid and possible.  Instead of having real objects we have object shadows which indicates the existence of a particular object.  Object shadows can either be simply IdentityKeys for a single type domain or IdentityKey plus a distinguisher if the domain could be multiple types.  In all cases the ObjectShadow must be sufficient to uniquely identify the single true object that should be in its place.  If we have this we have objects.

<P>
<TABLE width="100%" border=0>
<TR><TD valign=bottom rowspan=2><A href="http://www.chimu.com/"><IMG src="../../images/chimu/pyrs1b2t.gif" border=0></A></TD>
<TD width="100%" valign=top align=left>
<P><a href="http://www.chimu.com/">ChiMu</a>&nbsp;&nbsp;<a href="../index.html">Documentation</a>&nbsp;&nbsp;<A href="index.html"><B>Object-Relational Mapping</B></A></TD><TD valign=top><A href="part0005.html"><IMG BORDER=0 src="../../images/arrows/larr1ct.gif"></A>&nbsp;<A href="part0005.html">Previous</A>&nbsp;<A href="index.html#TOC">TOC</A>&nbsp;<A href="part0007.html">Next</A>&nbsp;<A href="part0007.html"><IMG BORDER=0 src="../../images/arrows/rarr1ct.gif"></A> </TD></TR>
<TR>
<TD width="100%" valign = bottom align=left>&nbsp;&nbsp;<FONT SIZE="-1"><A href="../copyright.html">Copyright (c) 1997</A>, ChiMu Corporation.  All Rights Reserved.
<BR>&nbsp;&nbsp;&nbsp;&nbsp;Confidential and Proprietary.  Version R1.0.1.</FONT></TD>
</TR>
</TABLE>
</BODY>
</HTML>
